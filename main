package Calculadora;

import static java.lang.Math.sqrt;

/**
 *
 * @author manolo
 */
public class calculadora extends javax.swing.JFrame {

    String memoria1;
    String signo;
    String memoria2;

    public calculadora() {
        initComponents();
    }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jButtonBorrarResultadoDeUno = new javax.swing.JButton();
        jButtonPorcentaje = new javax.swing.JButton();
        jButtonBorrarTodo = new javax.swing.JButton();
        jButtonBorrarResultado = new javax.swing.JButton();
        jButtonUnoSobreX = new javax.swing.JButton();
        jButtonPotenciaDos = new javax.swing.JButton();
        jButtonRaiz = new javax.swing.JButton();
        jButtonDivicion = new javax.swing.JButton();
        jButtonMultiplicacion = new javax.swing.JButton();
        seven = new javax.swing.JButton();
        eight = new javax.swing.JButton();
        nine = new javax.swing.JButton();
        jButtonResta = new javax.swing.JButton();
        four = new javax.swing.JButton();
        five = new javax.swing.JButton();
        six = new javax.swing.JButton();
        jButtonSuma = new javax.swing.JButton();
        one = new javax.swing.JButton();
        two = new javax.swing.JButton();
        three = new javax.swing.JButton();
        jButtonMasMenos = new javax.swing.JButton();
        jButton45 = new javax.swing.JButton();
        dot = new javax.swing.JButton();
        jButtonIgual = new javax.swing.JButton();
        Operaciones = new javax.swing.JLabel();
        Resultado = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBackground(new java.awt.Color(102, 102, 102));
        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jButtonBorrarResultadoDeUno.setText("<-");
        jButtonBorrarResultadoDeUno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonBorrarResultadoDeUnoActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonBorrarResultadoDeUno, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 4, 80, 40));

        jButtonPorcentaje.setText("%");
        jButtonPorcentaje.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPorcentajeActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonPorcentaje, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 4, 80, 40));

        jButtonBorrarTodo.setText("CE");
        jButtonBorrarTodo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonBorrarTodoActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonBorrarTodo, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 4, 80, 40));

        jButtonBorrarResultado.setText("C");
        jButtonBorrarResultado.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonBorrarResultadoActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonBorrarResultado, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 4, 80, 40));

        jButtonUnoSobreX.setText("1/x");
        jButtonUnoSobreX.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonUnoSobreXActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonUnoSobreX, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 46, 80, 40));

        jButtonPotenciaDos.setText("x^2");
        jButtonPotenciaDos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPotenciaDosActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonPotenciaDos, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 46, 80, 40));

        jButtonRaiz.setText("√");
        jButtonRaiz.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRaizActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonRaiz, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 46, 80, 40));

        jButtonDivicion.setText("÷");
        jButtonDivicion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDivicionActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonDivicion, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 46, 80, 40));

        jButtonMultiplicacion.setText("x");
        jButtonMultiplicacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonMultiplicacionActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonMultiplicacion, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 88, 80, 40));

        seven.setText("7");
        seven.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sevenActionPerformed(evt);
            }
        });
        jPanel2.add(seven, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 88, 80, 40));

        eight.setText("8");
        eight.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                eightActionPerformed(evt);
            }
        });
        jPanel2.add(eight, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 88, 80, 40));

        nine.setText("9");
        nine.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nineActionPerformed(evt);
            }
        });
        jPanel2.add(nine, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 88, 80, 40));

        jButtonResta.setText("-");
        jButtonResta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRestaActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonResta, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 130, 80, 40));

        four.setText("4");
        four.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                fourActionPerformed(evt);
            }
        });
        jPanel2.add(four, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 130, 80, 40));

        five.setText("5");
        five.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                fiveActionPerformed(evt);
            }
        });
        jPanel2.add(five, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 130, 80, 40));

        six.setText("6");
        six.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sixActionPerformed(evt);
            }
        });
        jPanel2.add(six, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 130, 80, 40));

        jButtonSuma.setText("+");
        jButtonSuma.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSumaActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonSuma, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 172, 80, 40));

        one.setText("1");
        one.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                oneActionPerformed(evt);
            }
        });
        jPanel2.add(one, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 172, 80, 40));

        two.setText("2");
        two.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                twoActionPerformed(evt);
            }
        });
        jPanel2.add(two, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 172, 80, 40));

        three.setText("3");
        three.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                threeActionPerformed(evt);
            }
        });
        jPanel2.add(three, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 172, 80, 40));

        jButtonMasMenos.setText("+/-");
        jButtonMasMenos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonMasMenosActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonMasMenos, new org.netbeans.lib.awtextra.AbsoluteConstraints(3, 214, 80, 40));

        jButton45.setText("0");
        jButton45.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton45ActionPerformed(evt);
            }
        });
        jPanel2.add(jButton45, new org.netbeans.lib.awtextra.AbsoluteConstraints(85, 214, 80, 40));

        dot.setText(".");
        dot.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dotActionPerformed(evt);
            }
        });
        jPanel2.add(dot, new org.netbeans.lib.awtextra.AbsoluteConstraints(167, 214, 80, 40));

        jButtonIgual.setText("=");
        jButtonIgual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonIgualActionPerformed(evt);
            }
        });
        jPanel2.add(jButtonIgual, new org.netbeans.lib.awtextra.AbsoluteConstraints(248, 214, 80, 40));

        jPanel1.add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 206, 330, 260));

        Operaciones.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        Operaciones.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jPanel1.add(Operaciones, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 50, 310, 50));

        Resultado.setFont(new java.awt.Font("Arial", 0, 48)); // NOI18N
        Resultado.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jPanel1.add(Resultado, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 120, 310, 50));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 331, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>                        

    private void jButtonBorrarResultadoDeUnoActionPerformed(java.awt.event.ActionEvent evt) {                                                            
        String cadena;
        cadena = Resultado.getText();;

        if (cadena.length() > 0) {
            cadena = cadena.substring(0, cadena.length() - 1);
            Resultado.setText(cadena);
        }
    }                                                           

    private void jButtonPorcentajeActionPerformed(java.awt.event.ActionEvent evt) {                                                  
        //Buscar como se hace
    }                                                 

    private void jButtonBorrarTodoActionPerformed(java.awt.event.ActionEvent evt) {                                                  
        String cadena;
        cadena = Resultado.getText();
        cadena = Operaciones.getText();

        if (cadena.length() > 0) {
            cadena = cadena.substring(0, cadena.length() - 1);
            Resultado.setText(cadena);
            Operaciones.setText(cadena);
        }
    }                                                 

    private void jButtonBorrarResultadoActionPerformed(java.awt.event.ActionEvent evt) {                                                       
        Resultado.setText("");
        Operaciones.setText("");
    }                                                      

    private void jButtonUnoSobreXActionPerformed(java.awt.event.ActionEvent evt) {                                                 
        String cadena;
        Double num;
        cadena = Resultado.getText();
        if (cadena.length() > 0) {
            num = 1 / (Double.parseDouble(cadena));
            Resultado.setText(num.toString());
            Operaciones.setText("1/"+ cadena);
        }
    }                                                

    private void jButtonPotenciaDosActionPerformed(java.awt.event.ActionEvent evt) {                                                   
        Double num;
        String cadena;
        cadena = Resultado.getText();
        if (cadena.length()>0) {
            num = 2 * Double.parseDouble(cadena);
            Resultado.setText(num.toString());
            Operaciones.setText(cadena + "^2");
        }
    }                                                  

    private void jButtonRaizActionPerformed(java.awt.event.ActionEvent evt) {                                            
        Double num;
        String cadena;
        cadena = Resultado.getText();
        if (cadena.length()>0) {
            num = sqrt(Double.parseDouble(cadena));
            Resultado.setText(num.toString());
            Operaciones.setText("√" +cadena);
        }
    }                                           

    private void jButtonDivicionActionPerformed(java.awt.event.ActionEvent evt) {                                                
        if (!Resultado.getText().equals("")) {
            memoria1 = Resultado.getText();
            Operaciones.setText(Operaciones.getText() + memoria1);
            Operaciones.setText(Operaciones.getText() + "/");
            signo = "÷";
            Resultado.setText("");
        }
    }                                               

    private void jButtonMultiplicacionActionPerformed(java.awt.event.ActionEvent evt) {                                                      
        if (!Resultado.getText().equals("")) {
            memoria1 = Resultado.getText();
            Operaciones.setText(Operaciones.getText() + memoria1);
            Operaciones.setText(Operaciones.getText() + "x");
            signo = "*";
            Resultado.setText("");
        }
    }                                                     

    private void sevenActionPerformed(java.awt.event.ActionEvent evt) {                                      
        addNumero("7");
    }                                     

    private void eightActionPerformed(java.awt.event.ActionEvent evt) {                                      
        addNumero("8");
    }                                     

    private void nineActionPerformed(java.awt.event.ActionEvent evt) {                                     
        addNumero("9");
    }                                    

    private void jButtonRestaActionPerformed(java.awt.event.ActionEvent evt) {                                             
        if (!Resultado.getText().equals("")) {
            memoria1 = Resultado.getText();
            Operaciones.setText(Operaciones.getText() + memoria1);
            Operaciones.setText(Operaciones.getText() + "-");
            signo = "-";
            Resultado.setText("");
        }
    }                                            

    private void fourActionPerformed(java.awt.event.ActionEvent evt) {                                     
        addNumero("4");
    }                                    

    private void fiveActionPerformed(java.awt.event.ActionEvent evt) {                                     
        addNumero("5");
    }                                    

    private void sixActionPerformed(java.awt.event.ActionEvent evt) {                                    
        addNumero("6");
    }                                   

    private void jButtonSumaActionPerformed(java.awt.event.ActionEvent evt) {                                            
        if (!Resultado.getText().equals("")) {
            memoria1 = Resultado.getText();
            Operaciones.setText(Operaciones.getText() + memoria1);
            Operaciones.setText(Operaciones.getText() + "+");
            signo = "+";
            Resultado.setText("");
        }
    }                                           

    private void oneActionPerformed(java.awt.event.ActionEvent evt) {                                    
        addNumero("1");
    }                                   

    private void twoActionPerformed(java.awt.event.ActionEvent evt) {                                    
        addNumero("2");
    }                                   

    private void threeActionPerformed(java.awt.event.ActionEvent evt) {                                      
        addNumero("3");
    }                                     

    private void jButtonMasMenosActionPerformed(java.awt.event.ActionEvent evt) {                                                
        Double num;
        String cadena;
        cadena=Resultado.getText();
        if (cadena.length()>0) {
            num=(-1)*Double.parseDouble(cadena);
            Resultado.setText(num.toString());
            Operaciones.setText(num.toString());
        }
    }                                               

    private void jButton45ActionPerformed(java.awt.event.ActionEvent evt) {                                          
        addNumero("0");
    }                                         

    private void dotActionPerformed(java.awt.event.ActionEvent evt) {                                    
        String cadena;
        cadena = Resultado.getText();

        if (cadena.length() <= 0) {
            Resultado.setText("0.");

        } else {
            if (!existepunto(Resultado.getText())) {
                Resultado.setText(Resultado.getText() + ".");
                Operaciones.setText(Operaciones.getText() + ".");
            }
        }
    }                                   

    private void jButtonIgualActionPerformed(java.awt.event.ActionEvent evt) {                                             
        String resultado;
        memoria2 = Resultado.getText();

        if (!memoria2.equals("")) {
            resultado = calculadora(memoria1, memoria2, signo);
            Resultado.setText(resultado);
        }
    }                                            

    public static String calculadora(String memoria1, String memoria2, String signo) {
        Double resultado = 0.0;
        String respuesta;

        if (signo.equals("-")){
            resultado = Double.parseDouble(memoria1) - Double.parseDouble(memoria2);

        }
        if (signo.equals("+")){
            resultado = Double.parseDouble(memoria1) + Double.parseDouble(memoria2);

        }
        if (signo.equals("*")){
            resultado = Double.parseDouble(memoria1) * Double.parseDouble(memoria2);

        }
        if (signo.equals("/")){
            resultado = Double.parseDouble(memoria1) / Double.parseDouble(memoria2);

        }
        if (signo.equals("√")){
            resultado = Double.parseDouble(memoria1);
        }

        respuesta = resultado.toString();
        return respuesta;
    }

    public void addNumero(String digito) {
        Resultado.setText(Resultado.getText() + digito);
    }

    public static boolean existepunto(String cadena) {
        boolean resultado;
        resultado = false;

        for (int i = 0; i < cadena.length(); i++) {
            if (cadena.substring(i, i + 1).equals(".")) {
                resultado = true;
                break;
            }
        }
        return resultado;

    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(calculadora.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(calculadora.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(calculadora.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(calculadora.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new calculadora().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.JLabel Operaciones;
    private javax.swing.JLabel Resultado;
    private javax.swing.JButton dot;
    private javax.swing.JButton eight;
    private javax.swing.JButton five;
    private javax.swing.JButton four;
    private javax.swing.JButton jButton45;
    private javax.swing.JButton jButtonBorrarResultado;
    private javax.swing.JButton jButtonBorrarResultadoDeUno;
    private javax.swing.JButton jButtonBorrarTodo;
    private javax.swing.JButton jButtonDivicion;
    private javax.swing.JButton jButtonIgual;
    private javax.swing.JButton jButtonMasMenos;
    private javax.swing.JButton jButtonMultiplicacion;
    private javax.swing.JButton jButtonPorcentaje;
    private javax.swing.JButton jButtonPotenciaDos;
    private javax.swing.JButton jButtonRaiz;
    private javax.swing.JButton jButtonResta;
    private javax.swing.JButton jButtonSuma;
    private javax.swing.JButton jButtonUnoSobreX;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JButton nine;
    private javax.swing.JButton one;
    private javax.swing.JButton seven;
    private javax.swing.JButton six;
    private javax.swing.JButton three;
    private javax.swing.JButton two;
    // End of variables declaration                   
}
